{% extends 'base.html'%} {% block content %}

<h2 class="title-text">Edit Hike</h2>
<div class="container">
	<div class="row input-box">
    <p>Fill out the information below and click the Edit Hike button for your data to be amended.
			Information on how to add coordinates can be found on the <a href="{{url_for('about')}}">About</a> page. Please note all '*' fields are required.
		</p>
		<form action="{{ url_for('update_hike', hike_id=hike._id) }}" method="POST" class="col s12">
			<div class="row">
				<div class="input-field col s12 m6">
					<i class="material-icons prefix">poll</i>
					<select id="county" name="county_name" required>
                <option value="" disabled>Choose your option*</option>
                <optgroup label="England">
                  {% for cat in engcounties|sort(attribute="eng_county") %}
                    {% if cat.eng_county == hike.county_name %}
                        <option value="{{cat.eng_county}}" selected>{{hike.county_name}}</option>
                    {% else %}
                        <option value="{{cat.eng_county}}">{{cat.eng_county}}</option>
                    {% endif %}
                  {% endfor %}
                </optgroup>
                <optgroup label="Scotland">
                    {% for cat in scotcounties|sort(attribute="scot_county") %}
                        {% if cat.scot_county == hike.county_name %}
                            <option value="{{cat.scot_county}}" selected>{{hike.county_name}}</option>
                        {% else %}
                            <option value="{{cat.scot_county}}">{{cat.scot_county}}</option>
                        {% endif %}
                  {% endfor %}
                </optgroup>
                <optgroup label="Wales">
                    {% for cat in walescounties|sort(attribute="wales_county") %}
                        {% if cat.wales_county == hike.county_name %}
                            <option value="{{cat.wales_county}}" selected>{{hike.county_name}}</option>
                        {% else %}
                            <option value="{{cat.wales_county}}">{{cat.wales_county}}</option>
                        {% endif %}
                  {% endfor %}
                </optgroup>
            </select>
					<label>Country / County*</label>
				</div>
				<div class="input-field col s12 m6">
					<i class="material-icons prefix">assignment</i>
					<input id="hike_region" name="hike_region" type="text" class="validate" value="{{hike.hike_region}}" required>
					<label for="icon_prefix">Hike Town / City*</label>
				</div>
			</div>
			<div class="row">
				<div class="input-field col s12">
					<i class="material-icons prefix">comment</i>
					<input name="hike_description" id="hike_description" type="text" value="{{hike.hike_description}}" required>
					<label for="icon_telephone">Hike Description / Directions*</label>
				</div>
			</div>
			<div class="row">
				<div class="input-field col s12 m6">
					<i class="material-icons prefix">grade</i>
					<input min="0" max="5" name="hike_difficulty" id="hike_difficulty" type="number" value="{{hike.hike_difficulty}}">
					<label for="icon_telephone">Hike Difficulty (0 - 5)</label>
				</div>
				<div class="input-field col s12 m6">
					<i class="material-icons prefix">my_location</i>
					<input name="hike_name" maxlength="17" id="hike_name" type="text" value="{{hike.hike_name}}" required>
					<label for="icon_telephone">Hike Name (please use underscores, max 17 characters)*</label>
				</div>
			</div>
			<div class="row">
				<div class="input-field col s12 m6">
					<i class="material-icons prefix">my_location</i>
					<input name="hike_postcode" id="hike_postcode" type="text" value="{{hike.hike_postcode}}">
					<label for="icon_telephone">Hike Post Code</label>
				</div>
				<div class="input-field col s12 m6">
					<i class="material-icons prefix">timer</i>
					<input name="hike_duration" id="hike_duration" type="text" value="{{hike.hike_duration}}">
					<label for="icon_telephone">Hike Duration</label>
				</div>
			</div>
			<div class="row">
				<div class="input-field col s12 m6">
					<i class="material-icons prefix">landscape</i>
					<input name="hike_distance" id="hike_distance" type="text" value="{{hike.hike_distance}}">
					<label for="icon_telephone">Hike Distance</label>
				</div>
				<div class="input-field col s12 m6">
					<i class="material-icons prefix">add_location</i>
					<input type="text" id="hike_coordinates" name="hike_coordinates" value="{{hike.hike_coordinates}}"
                value="{{hike.hike_coordinates}}" pattern="^\-?[0-9]{1,3}\.[0-9]+\,\s?\-?[0-9]{1,3}\.[0-9]+$">
					<label for="icon_telephone">Hike Coordinates*</label>
				</div>
			</div>
			<div class="row">
				<div class="input-field col s12 m6">
					<i class="material-icons prefix">subject</i>
					<select multiple id="multiple_selction" name="multiple_selction">
                    <option value="" disabled selected>Select all that apply</option>
                        <option value="Parking">Parking</option>
                        <option value="Disabled Access">Disabled Access</option>
                        <option value="Dog Friendly">Dog Friendly</option>
                        <option value="Toilets">Toilets</option>
                </select>
					<label>Hike Attributes</label>
				</div>
				<div class="input-field col s12 m6">
					<i class="material-icons prefix">add_a_photo</i>
					<input id="img_url" name="img_url" type="text" value="{{hike.img_url}}">
					<label>Image URL</label>
				</div>
			</div>
			<div class="row">
				<button class="btn waves-effect waves-light" type="submit" name="action">Edit Hike
                <i class="material-icons right">add_box</i>
             </button>
			</div>
		</form>
	</div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript">

</script>

{% endblock %}